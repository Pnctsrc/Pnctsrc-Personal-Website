<template name="posts">
  {{#if queryChange}}
    {{postsReFetch}}
  {{/if}}

  {{#if dataNotReady}}
    {{> page_loader loaderDict=postsDict}}
  {{/if}}

  {{> filter}}

  <div class="post_list">
    {{#each post in post_list}}
      <div class="ui fluid card">
        <div class="content">
          <div class="header"><a href="/posts/view/{{post._id}}">{{post.title}}</a></div>
          <div class="right floated meta">
            <span id="post_time"><i class="calendar icon"></i>{{getTime post.createdAt}}</span>
          </div>
          <div class="description">
            <p>{{post.description}}</p>
          </div>
        </div>
        <div class="extra content">
          <div class="right floated statistic">
            <div class="value">
              {{getViewCount post.view_count}}
            </div>
            <div class="label">
              Views
            </div>
          </div>
        </div>
      </div>
    {{/each}}
  </div>

  {{#if showPagination}}
    {{> list_pagination listDict=postsDict pageType="posts"}}
  {{/if}}
</template>
